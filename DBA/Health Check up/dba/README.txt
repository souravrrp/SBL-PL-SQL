This file describes how to install DBA Helper, a simple tool for database
administration of Oracle databases. Usage of the tool should be self-evident
to anyone who knows how to administer Oracle RDBMS and is not described per
se. This tool is not meant as a replacement for more comprehensive commercial
tools like OEM, it is meant to support quick troubleshooting by utilizing
wait-based methodology. The secondaary use for this tool are things like
free space in the database, resizing data files, changing user passwords and
other, rather trivial and tedious tasks. The tool also has "SQL Worksheet",
which dynamically executes any given SQL or PL/SQL command. In contrast to
many other similar tools, it also displays lines generated by DBMS_OUTPUT
and NLS_DATE_FORMAT can be changed.

1) Prerequisites
------------------

This is a very simple tool and the price for this simplicity is the complexity 
of tools used to create it. This tool requires several things installed on the 
web server:

Web server, preferably Apache2, with PHP5 installed as a module.  It will not 
work with PHP4 as it routinely uses exceptions as an error checking method. 
The following packages must be installed for the tool to function properly:

PEAR HTML_Form (PEAR packages are installed by using PEAR installer)
PEAR HTML_Table 
PEAR Image_GraphViz (needed for ER diagrams)
ADOdb          (Separate package, described at http://adodb.sourceforge.net)
GraphViz package (from http://www.graphviz.org, needed for ER diagrams)
TRCANLZR package from Metalink. It's Oracle's free PL/SQL package for
         analyzing trace files. It's a PL/SQL version of the TKPROF utility.
    

DBA_Helper package accessible to every schema which wants to use the tool. 
This can be achieved both by creating the package in one's own schema, as well 
as creating it in a central location and providing a synonym to it. This 
package is just a formating aid and doesn't perform any privileged operations. 
The source for the package resides in the file called dba_helper.sql

This tool was tested on different platforms which include Unix platforms like 
Solaris 8 and Red Hat Linux, CentOS and various versions of Fedora, from FC3 on,
as well as Windows 2000. On Unix platforms, PHP5 was linked from the  source,  
while the binary distribution of PHP5 was used on Windows 2000.


Installation of DBA_Helper
---------------------------
To start installing the tool, there must be a working web server with
PHP5, linked with Oracle. The instructions how to do this exist on many
web sites, the best of which is http://wwww.php.net. PEAR comes with
Unix installations, but on Windows PEAR must be installed separately.
That is also described in the appropriate installation manuals. When
this is all done, one needs to install HTML_Form and HTML_Table packages.
This is done by executing the following commands with administrative 
privilege:
pear install -a HTML_Form
pear install -a HTML_Table
pear install -a Image_GraphViz

These commands will download the packages from the pear repository, which
resides at http://pear.php.net and install them with the rest of your PEAR
packages.

The GraphViz package is available from http://www.graphviz.org and
can be downloaded from there. The site also has installation manuals.
Installation is simple, usually done by platform-specific installers.

When all these elements are in place, the further installation is simple:
1.Create directory  to hold the files and untar the distribution into that
directory. 

2.Make that directory ("/home/mgogala/work/DBA")  known to Apache web
server, by putting something like this in the httpd.conf:

Alias /dba "/home/mgogala/work/DBA/"
<Directory "/home/mgogala/work/DBA">
allow from all
Options Indexes FollowSymLinks
AllowOverride None
</Directory>

3.Modify the helper.inc.php if necessary, to reflect the location where ADOdb is
installed.

4.Install the DBA_Helper package in each schema that will have the access to 
the tool. The tool queries  DBA tables like DBA_USERS, DBA_OBJECTS and
DBA_FREE_SPACE. The tool also queries virtual tables, so called V$ tables, 
V$LOCK for instance. This means that each schema using it needs the DBA i
privilege. The tool is written by a DBA for a DBA. There is no way around it. 
Also, "Session Search" item in the "Sessions" menu now requires that the 
user executing the tool is granted "SELECT ANY DICTIONARY" privilege directly 
and not through the DBA role. This is a requirement since the version 1.0.16.
Without "SELECT ANY DICTIONARY" privilege, the package body will not compile.

5. Create external table alert_log and make it accessible to the user 
using the tool, possibly through a public synonym. File alert_log.sql that
can be used to that end is a part of the installation set. You will have to
edit it appropriately, to point to existing directories and files before use.
This is necessary for the new "Alert Log" entry in the "Misc" menu.

6. Use the tool, by calling it from the browser, entering something like the
http://webserver/dba/dba_helper.php as URL into your browser.

Installation of ADOdb is extremely simple: just untar the distribution into a
directory defined in include_path php.ini parameter.


License
-------
This is an open source tool, free for use under conditions described 
by the GNU Public License. That essentially means that you are hereby
granted the right to use the tool and modify it according to your needs
as long as as you give the credit where credit is due and do not claim
ownership of the code written by somebody else.

I hope that you will find the tool useful and will enjoy using it.

